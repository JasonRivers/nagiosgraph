------------------
Nagiosgraph README
------------------

File:    $Id: README,v 1.11 2007/06/28 04:58:54 sf-hlai Exp $
Author:  (c) Soren Dossing, 2005
License: OSI Artistic License
         http://www.opensource.org/licenses/artistic-license.php

Nagiosgraph is an add-on of Nagios. It collects service perfdata into rrd 
format, and displays the resulting graphs via cgi.

Note: Nagios is a registered trademark of Ethan Galstad.



Usage
------

Follow the instructions in INSTALL for how to install and configure 
nagiosgraph.



Files
------

CHANGELOG         - History of changes
INSTALL           - Dcoument for how to install and use nagiosgraph
README            - This file
README.map        - Document for how to create map file entries
insert.pl         - Reads perfdata log from nagios and insert into rrd 
                    files.
show.cgi          - Generates a html page for the host/sevice specified, 
                    and generates graphs on-the-fly.
nagiosgraph.conf  - paths and other configuration
nagiosgraph.css   - CSS stylesheet
map               - Regular expression to identify services and 
                    specification for how to create rrd files.
testcolor.cgi     - Preview of colors for keywords in each color scheme
testentry.pl      - A script for testing new map file entries.



Getting Help
------------

Visit the help forum -- http://sourceforge.net/forum/forum.php?forum_id=394748
See also the project wiki -- http://nagiosgraph.wiki.sourceforge.net



Principles of Operations
------------------------

nagiosgraph is basically a simple interface between Nagios and rrd data
files. Simplicity comes from three factors; it doesn't do much, behavior
is programmed rather than configurable, and automatically detects new
data from Nagios.

nagiosgraphs is operating in two modes. One is to collect performance
data from servicechecks from nagios, and the other is to display graphs
of the performance data collected.

All the data collected are stored in rrd files by using rrdtools. A file
called 'map' defines how identify the data from nagios and how to store
it in the rrd files. Nagios passes all the service data collected to a
nagiosgraph script called 'insert.pl'. This script will look up in
'map', which rrd file to insert the data into, and how to name the data.

In Nagios, it's possible to have extended service information pages.
A nagiosgraph cgi script called 'show.cgi' is used for such service
information links. 'show.cgi' looks up performance data stored in rrd file 
directories, and generates line charts accordingly. 

nagiosgraph automatically detects new hosts or services added in Nagios, 
so generally no re-configuration of nagiosgraph is necessary.

The 'map' configuration file is actually perl code, that will be eval'ed
by 'insert.pl' and 'show.cgi'. Several examples of servicechecks are
included in the distributed 'map' file, but generally it's necessary to
make modifications or add entries to match the output of the particular
nagios plugins in use. Knowing perl regular expression is helpful,
but the examples supplied should cover most types of performance data.

By default all available data for a servicecheck will be displayed in
the same graph. With extra configuration, embedded in the url, it's
possible to display less data or to split values into multiple graphs.
There is also a general method for specifying any rrd graph options.

